<html>

<head>
  <title>Acid Maps OpenLayers Example</title>
  <script src="http://openlayers.org/api/OpenLayers.js"></script>
  <script src="acidmaps.js"></script>
</head>

<body onload="init()">

<div style="position: absolute; top: 0px; left: 0px; bottom: 0px; right: 0px;" id="map"></div>
<div style="position: absolute; top: 10px; right: 10px;">
	<input type="button" value="Isoline" onClick="acid.mergeNewParams({TYPE: 'ISOLINE'})" />
	<input type="button" value="Voronoi" onClick="acid.mergeNewParams({TYPE: 'VORONOI'})" />
	<input type="button" value="Heatmap" onClick="acid.mergeNewParams({TYPE: 'HEATMAP'})" />
</div>

<script type="text/javascript">

var acid;
function init(){
  var map = new OpenLayers.Map('map');

  var wms = new OpenLayers.Layer.WMS("OpenLayers WMS", 
  	"http://vmap0.tiles.osgeo.org/wms/vmap0", {layers: 'basic'} );
  	
  acid = new OpenLayers.Layer.Acid("Acid Maps", 
    "http://0.0.0.0:7011/acid", {ALPHA: 160, TYPE: 'HEATMAP'}, {transitionEffect: 'resize'});
  map.addLayers([wms, acid]);
  
  // Add random points
  var total = parseInt(Math.random() * 1000);
  
  var points = [];
  for(var i = 0; i < total; i++) {
  	points.push([
  		Math.random() * 360 - 180, 
  		Math.random() * 180 - 90, 
  		parseInt(Math.random() * 100)]);
  }
  
  acid.configure({points: points});
  map.zoomToMaxExtent();
}

</script>

</body>

</html>
